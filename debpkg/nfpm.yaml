name: "vgkeydesk-spawner-access"
arch: "amd64"
platform: "linux"
version: 0.0.2
section: "default"
priority: "extra"
release: 2

provides:
- vgkeydesk-conf

maintainer: "Ingmund Ollson <ingmund@proton.me>"
description: VPNGen keydesk spawner access grants
vendor: "VPNGen"
homepage: "http://vpngen.org"

contents:
- dst: /home/_serega_/.ssh
  type: dir
  file_info:
    mode: 0700
    owner: _serega_
    group: _serega_
- src: /etc/keydesk/keydesk_spawner_access_authorized_keys
  dst: /home/_serega_/.ssh/authorized_keys
  file_info:
    mode: 0400
    owner: _serega_
    group: _serega_
- src: /etc/keydesk/keydesk_spawner_access_sudoers
  dst: /etc/sudoers.d/_serega_
  file_info:
    mode: 0400
    owner: root
    group: root
overrides:
  deb:
    conflicts:
    - vgkeydesk (>= 1.0.0)
    scripts:
      preinstall: /data/src/preinstall.sh
      postremove: /data/src/postremove.sh
deb:
 compression: xz

